-- Mise à jour n° de version
UPDATE `system` SET `value`='v5.6.0' WHERE `name`='base' and `groupe`='module';

-- modification du label datatype pour label long
ALTER TABLE `data_types` CHANGE `label` `label` TEXT CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL;

-- options formulaires
INSERT INTO `configuration` (`name`, `level`, `toID`, `module`, `cat`, `type`, `description`, `value`) VALUES ('formFormulaireListingPatients', 'default', '0', '', 'Options', 'texte', 'nom du formulaire à utiliser pour le listing patients', 'baseListingPatients');
INSERT INTO `configuration` (`name`, `level`, `toID`, `module`, `cat`, `type`, `description`, `value`) VALUES ('formFormulaireListingPraticiens', 'default', '0', '', 'Options', 'texte', 'nom du formulaire à utiliser pour le listing praticiens', 'baseListingPro');
INSERT INTO `configuration` (`name`, `level`, `toID`, `module`, `cat`, `type`, `description`, `value`) VALUES ('formFormulaireNouveauPatient', 'default', '0', '', 'Options', 'texte', 'nom du formulaire à utiliser pour la création d\'un nouveau patient', 'baseNewPatient');
INSERT INTO `configuration` (`name`, `level`, `toID`, `module`, `cat`, `type`, `description`, `value`) VALUES ('formFormulaireNouveauPraticien', 'default', '0', '', 'Options', 'texte', 'nom du formulaire à utiliser pour la création d\'un nouveau praticien', 'baseNewPro');

-- redirection après création nouveau patient
INSERT INTO `configuration` ( `name`, `level`, `toID`, `module`, `cat`, `type`, `description`, `value`) VALUES ('optionGePatientOuvrirApresCreation', 'default', '0', '', 'Options', 'dossier / liens', 'où rediriger après création d\'un nouveau patient', 'liens');

-- nom de l'application
INSERT INTO `configuration` (`name`, `level`, `toID`, `module`, `cat`, `type`, `description`, `value`) VALUES ('designAppName', 'default', '0', '', 'Ergonomie et design', 'texte', 'nom de l\'application', 'MedShakeEHR');

-- pays
SET @catID = (SELECT data_cat.id FROM data_cat WHERE data_cat.name='addressPerso');
INSERT IGNORE INTO `data_types` (`groupe`, `name`, `placeholder`, `label`, `description`, `validationRules`, `validationErrorMsg`, `formType`, `formValues`, `module`, `cat`, `fromID`, `creationDate`, `durationLife`, `displayOrder`) VALUES
('admin', 'country', '', 'Pays', 'Adresse perso : pays', '', '', 'select', '\'\': \'\'\nAFG: \"Afghanistan\"\nZAF: \"Afrique du Sud\"\nALB: \"Albanie\"\nDZA: \"Algérie\"\nDEU: \"Allemagne\"\nAND: \"Andorre\"\nAGO: \"Angola\"\nAIA: \"Anguilla\"\nATA: \"Antarctique\"\nATG: \"Antigua-et-Barbuda\"\nSAU: \"Arabie saoudite\"\nARG: \"Argentine\"\nARM: \"Arménie\"\nABW: \"Aruba\"\nAUS: \"Australie\"\nAUT: \"Autriche\"\nAZE: \"Azerbaïdjan\"\nBHS: \"Bahamas\"\nBHR: \"Bahreïn\"\nBGD: \"Bangladesh\"\nBRB: \"Barbade\"\nBEL: \"Belgique\"\nBLZ: \"Belize\"\nBEN: \"Bénin\"\nBMU: \"Bermudes\"\nBTN: \"Bhoutan\"\nBLR: \"Biélorussie\"\nMMR: \"Birmanie\"\nBOL: \"Bolivie\"\nBIH: \"Bosnie-Herzégovine\"\nBWA: \"Botswana\"\nBRA: \"Brésil\"\nBRN: \"Brunei\"\nBGR: \"Bulgarie\"\nBFA: \"Burkina Faso\"\nBDI: \"Burundi\"\nKHM: \"Cambodge\"\nCMR: \"Cameroun\"\nCAN: \"Canada\"\nCPV: \"Cap-Vert\"\nCHL: \"Chili\"\nCHN: \"Chine\"\nCYP: \"Chypre (pays)	\"\nCOL: \"Colombie\"\nCOM: \"Comores (pays)\"\nPRK: \"Corée du Nord\"\nKOR: \"Corée du Sud\"\nCRI: \"Costa Rica\"\nCIV: \"Côte d\'Ivoire\"\nHRV: \"Croatie\"\nCUB: \"Cuba\"\nCUW: \"Curaçao\"\nDNK: \"Danemark\"\nDJI: \"Djibouti\"\nDMA: \"Dominique\"\nEGY: \"Égypte\"\nARE: \"Émirats arabes unis\"\nECU: \"Équateur (pays)\"\nERI: \"Érythrée\"\nESP: \"Espagne\"\nEST: \"Estonie\"\nFSM: \"États fédérés de Micronésie (pays)\"\nUSA: \"États-Unis\"\nETH: \"Éthiopie\"\nFJI: \"Fidji\"\nFIN: \"Finlande\"\nFRA: \"France\"\nGAB: \"Gabon\"\nGMB: \"Gambie\"\nGEO: \"Géorgie (pays)\"\nSGS: \"Géorgie du Sud-et-les îles Sandwich du Sud\"\nGHA: \"Ghana\"\nGIB: \"Gibraltar\"\nGRC: \"Grèce\"\nGRD: \"Grenade (pays)	\"\nGRL: \"Groenland\"\nGLP: \"Guadeloupe\"\nGUM: \"Guam\"\nGTM: \"Guatemala\"\nGGY: \"Guernesey\"\nGIN: \"Guinée\"\nGNQ: \"Guinée équatoriale\"\nGNB: \"Guinée-Bissau\"\nGUY: \"Guyana\"\nGUF: \"Guyane\"\nHTI: \"Haïti\"\nHND: \"Honduras\"\nHKG: \"Hong Kong\"\nHUN: \"Hongrie\"\nBVT: \"  Île Bouvet\"\nCXR: \"Île Christmas\"\nIMN: \"Île de Man\"\nNFK: \"Île Norfolk\"\nALA: \"Îles Åland\"\nCYM: \"Îles Caïmans\"\nCCK: \"Îles Cocos\"\nCOK: \"Îles Cook\"\nFRO: \"Îles Féroé\"\nHMD: \"Îles Heard-et-MacDonald\"\nMNP: \"Îles Mariannes du Nord\"\nMHL: \"Îles Marshall (pays)\"\nUMI: \"  Îles mineures éloignées des États-Unis\"\nPCN: \"Îles Pitcairn\"\nTCA: \"Îles Turques-et-Caïques\"\nVGB: \"Îles Vierges britanniques\"\nVIR: \"Îles Vierges des États-Unis\"\nIND: \"Inde\"\nIDN: \"Indonésie\"\nIRQ: \"Irak\"\nIRN: \"Iran\"\nIRL: \"Irlande (pays)	\"\nISL: \"Islande\"\nISR: \"Israël\"\nITA: \"Italie\"\nJAM: \"Jamaïque\"\nJPN: \"Japon\"\nJEY: \"Jersey\"\nJOR: \"Jordanie\"\nKAZ: \"Kazakhstan\"\nKEN: \"Kenya\"\nKGZ: \"Kirghizistan\"\nKIR: \"Kiribati\"\nKWT: \"Koweït\"\nREU: \"La Réunion\"\nLAO: \"Laos\"\nLSO: \"Lesotho\"\nLVA: \"Lettonie\"\nLBN: \"Liban\"\nLBR: \"Liberia\"\nLBY: \"Libye\"\nLIE: \"Liechtenstein\"\nLTU: \"Lituanie\"\nLUX: \"Luxembourg (pays)\"\nMAC: \"Macao\"\nMKD: \"Macédoine du Nord\"\nMDG: \"Madagascar\"\nMYS: \"Malaisie\"\nMWI: \"Malawi\"\nMDV: \"Maldives\"\nMLI: \"Mali\"\nFLK: \"Malouines\"\nMLT: \"Malte\"\nMAR: \"Maroc\"\nMTQ: \"Martinique\"\nMUS: \"Maurice (pays)\"\nMRT: \"Mauritanie\"\nMYT: \"Mayotte\"\nMEX: \"Mexique\"\nMDA: \"Moldavie\"\nMCO: \"Monaco\"\nMNG: \"Mongolie\"\nMNE: \"Monténégro\"\nMSR: \"Montserrat\"\nMOZ: \"Mozambique\"\nNAM: \"Namibie\"\nNRU: \"Nauru\"\nNPL: \"Népal\"\nNIC: \"Nicaragua\"\nNER: \"Niger\"\nNGA: \"Nigeria\"\nNIU: \"Niue\"\nNOR: \"Norvège\"\nNCL: \"Nouvelle-Calédonie\"\nNZL: \"Nouvelle-Zélande\"\nOMN: \"Oman\"\nUGA: \"Ouganda\"\nUZB: \"Ouzbékistan\"\nPAK: \"Pakistan\"\nPLW: \"Palaos\"\nPSE: \"Palestine\"\nPAN: \"Panama\"\nPNG: \"Papouasie-Nouvelle-Guinée\"\nPRY: \"Paraguay\"\nNLD: \"Pays-Bas\"\nBES: \"Pays-Bas caribéens\"\nPER: \"Pérou\"\nPHL: \"Philippines\"\nPOL: \"Pologne\"\nPYF: \"Polynésie française\"\nPRI: \"Porto Rico\"\nPRT: \"Portugal\"\nQAT: \"Qatar\"\nESH: \"République arabe sahraouie démocratique\"\nCAF: \"République centrafricaine\"\nCOD: \"République démocratique du Congo\"\nDOM: \"République dominicaine\"\nCOG: \"République du Congo\"\nROU: \"Roumanie\"\nGBR: \"Royaume-Uni\"\nRUS: \"Russie\"\nRWA: \"Rwanda\"\nBLM: \"Saint-Barthélemy\"\nKNA: \"Saint-Christophe-et-Niévès\"\nSMR: \"Saint-Marin\"\nMAF: \"Saint-Martin\"\nSXM: \"Saint-Martin\"\nSPM: \"Saint-Pierre-et-Miquelon\"\nVAT: \"  Saint-Siège (État de la Cité du Vatican)\"\nVCT: \"Saint-Vincent-et-les-Grenadines\"\nSHN: \"Sainte-Hélène, Ascension et Tristan da Cunha\"\nLCA: \"Sainte-Lucie\"\nSLB: \"Salomon\"\nSLV: \"Salvador\"\nWSM: \"Samoa\"\nASM: \"Samoa américaines\"\nSTP: \"Sao Tomé-et-Principe\"\nSEN: \"Sénégal\"\nSRB: \"Serbie\"\nSYC: \"Seychelles\"\nSLE: \"Sierra Leone\"\nSGP: \"Singapour\"\nSVK: \"Slovaquie\"\nSVN: \"Slovénie\"\nSOM: \"Somalie\"\nSDN: \"Soudan\"\nSSD: \"Soudan du Sud\"\nLKA: \"Sri Lanka\"\nSWE: \"Suède\"\nCHE: \"Suisse\"\nSUR: \"Suriname\"\nSJM: \"Svalbard et ile Jan Mayen\"\nSWZ: \"Swaziland\"\nSYR: \"Syrie\"\nTJK: \"Tadjikistan\"\nTWN: \"Taïwan / (République de Chine (Taïwan))\"\nTZA: \"Tanzanie\"\nTCD: \"Tchad\"\nCZE: \"Tchéquie\"\nATF: \"Terres australes et antarctiques françaises\"\nIOT: \"Territoire britannique de l\'océan Indien\"\nTHA: \"Thaïlande\"\nTLS: \"Timor oriental\"\nTGO: \"Togo\"\nTKL: \"Tokelau\"\nTON: \"Tonga\"\nTTO: \"Trinité-et-Tobago\"\nTUN: \"Tunisie\"\nTKM: \"Turkménistan\"\nTUR: \"Turquie\"\nTUV: \"Tuvalu\"\nUKR: \"Ukraine\"\nURY: \"Uruguay\"\nVUT: \"Vanuatu\"\nVEN: \"Venezuela\"\nVNM: \"Viêt Nam\"\nWLF: \"Wallis-et-Futuna\"\nYEM: \"Yémen\"\nZMB: \"Zambie\"\nZWE: \"Zimbabwe\"', 'base', @catID, '1', '2019-01-01 00:00:00', '3600', '13');

SET @catID = (SELECT data_cat.id FROM data_cat WHERE data_cat.name='adressPro');
INSERT IGNORE INTO `data_types` (`groupe`, `name`, `placeholder`, `label`, `description`, `validationRules`, `validationErrorMsg`, `formType`, `formValues`, `module`, `cat`, `fromID`, `creationDate`, `durationLife`, `displayOrder`) VALUES
('admin', 'paysAdressePro', '', 'Pays', 'Adresse pro : pays', '', '', 'select', '\'\': \'\'\nAFG: \"Afghanistan\"\nZAF: \"Afrique du Sud\"\nALB: \"Albanie\"\nDZA: \"Algérie\"\nDEU: \"Allemagne\"\nAND: \"Andorre\"\nAGO: \"Angola\"\nAIA: \"Anguilla\"\nATA: \"Antarctique\"\nATG: \"Antigua-et-Barbuda\"\nSAU: \"Arabie saoudite\"\nARG: \"Argentine\"\nARM: \"Arménie\"\nABW: \"Aruba\"\nAUS: \"Australie\"\nAUT: \"Autriche\"\nAZE: \"Azerbaïdjan\"\nBHS: \"Bahamas\"\nBHR: \"Bahreïn\"\nBGD: \"Bangladesh\"\nBRB: \"Barbade\"\nBEL: \"Belgique\"\nBLZ: \"Belize\"\nBEN: \"Bénin\"\nBMU: \"Bermudes\"\nBTN: \"Bhoutan\"\nBLR: \"Biélorussie\"\nMMR: \"Birmanie\"\nBOL: \"Bolivie\"\nBIH: \"Bosnie-Herzégovine\"\nBWA: \"Botswana\"\nBRA: \"Brésil\"\nBRN: \"Brunei\"\nBGR: \"Bulgarie\"\nBFA: \"Burkina Faso\"\nBDI: \"Burundi\"\nKHM: \"Cambodge\"\nCMR: \"Cameroun\"\nCAN: \"Canada\"\nCPV: \"Cap-Vert\"\nCHL: \"Chili\"\nCHN: \"Chine\"\nCYP: \"Chypre (pays)	\"\nCOL: \"Colombie\"\nCOM: \"Comores (pays)\"\nPRK: \"Corée du Nord\"\nKOR: \"Corée du Sud\"\nCRI: \"Costa Rica\"\nCIV: \"Côte d\'Ivoire\"\nHRV: \"Croatie\"\nCUB: \"Cuba\"\nCUW: \"Curaçao\"\nDNK: \"Danemark\"\nDJI: \"Djibouti\"\nDMA: \"Dominique\"\nEGY: \"Égypte\"\nARE: \"Émirats arabes unis\"\nECU: \"Équateur (pays)\"\nERI: \"Érythrée\"\nESP: \"Espagne\"\nEST: \"Estonie\"\nFSM: \"États fédérés de Micronésie (pays)\"\nUSA: \"États-Unis\"\nETH: \"Éthiopie\"\nFJI: \"Fidji\"\nFIN: \"Finlande\"\nFRA: \"France\"\nGAB: \"Gabon\"\nGMB: \"Gambie\"\nGEO: \"Géorgie (pays)\"\nSGS: \"Géorgie du Sud-et-les îles Sandwich du Sud\"\nGHA: \"Ghana\"\nGIB: \"Gibraltar\"\nGRC: \"Grèce\"\nGRD: \"Grenade (pays)	\"\nGRL: \"Groenland\"\nGLP: \"Guadeloupe\"\nGUM: \"Guam\"\nGTM: \"Guatemala\"\nGGY: \"Guernesey\"\nGIN: \"Guinée\"\nGNQ: \"Guinée équatoriale\"\nGNB: \"Guinée-Bissau\"\nGUY: \"Guyana\"\nGUF: \"Guyane\"\nHTI: \"Haïti\"\nHND: \"Honduras\"\nHKG: \"Hong Kong\"\nHUN: \"Hongrie\"\nBVT: \"  Île Bouvet\"\nCXR: \"Île Christmas\"\nIMN: \"Île de Man\"\nNFK: \"Île Norfolk\"\nALA: \"Îles Åland\"\nCYM: \"Îles Caïmans\"\nCCK: \"Îles Cocos\"\nCOK: \"Îles Cook\"\nFRO: \"Îles Féroé\"\nHMD: \"Îles Heard-et-MacDonald\"\nMNP: \"Îles Mariannes du Nord\"\nMHL: \"Îles Marshall (pays)\"\nUMI: \"  Îles mineures éloignées des États-Unis\"\nPCN: \"Îles Pitcairn\"\nTCA: \"Îles Turques-et-Caïques\"\nVGB: \"Îles Vierges britanniques\"\nVIR: \"Îles Vierges des États-Unis\"\nIND: \"Inde\"\nIDN: \"Indonésie\"\nIRQ: \"Irak\"\nIRN: \"Iran\"\nIRL: \"Irlande (pays)	\"\nISL: \"Islande\"\nISR: \"Israël\"\nITA: \"Italie\"\nJAM: \"Jamaïque\"\nJPN: \"Japon\"\nJEY: \"Jersey\"\nJOR: \"Jordanie\"\nKAZ: \"Kazakhstan\"\nKEN: \"Kenya\"\nKGZ: \"Kirghizistan\"\nKIR: \"Kiribati\"\nKWT: \"Koweït\"\nREU: \"La Réunion\"\nLAO: \"Laos\"\nLSO: \"Lesotho\"\nLVA: \"Lettonie\"\nLBN: \"Liban\"\nLBR: \"Liberia\"\nLBY: \"Libye\"\nLIE: \"Liechtenstein\"\nLTU: \"Lituanie\"\nLUX: \"Luxembourg (pays)\"\nMAC: \"Macao\"\nMKD: \"Macédoine du Nord\"\nMDG: \"Madagascar\"\nMYS: \"Malaisie\"\nMWI: \"Malawi\"\nMDV: \"Maldives\"\nMLI: \"Mali\"\nFLK: \"Malouines\"\nMLT: \"Malte\"\nMAR: \"Maroc\"\nMTQ: \"Martinique\"\nMUS: \"Maurice (pays)\"\nMRT: \"Mauritanie\"\nMYT: \"Mayotte\"\nMEX: \"Mexique\"\nMDA: \"Moldavie\"\nMCO: \"Monaco\"\nMNG: \"Mongolie\"\nMNE: \"Monténégro\"\nMSR: \"Montserrat\"\nMOZ: \"Mozambique\"\nNAM: \"Namibie\"\nNRU: \"Nauru\"\nNPL: \"Népal\"\nNIC: \"Nicaragua\"\nNER: \"Niger\"\nNGA: \"Nigeria\"\nNIU: \"Niue\"\nNOR: \"Norvège\"\nNCL: \"Nouvelle-Calédonie\"\nNZL: \"Nouvelle-Zélande\"\nOMN: \"Oman\"\nUGA: \"Ouganda\"\nUZB: \"Ouzbékistan\"\nPAK: \"Pakistan\"\nPLW: \"Palaos\"\nPSE: \"Palestine\"\nPAN: \"Panama\"\nPNG: \"Papouasie-Nouvelle-Guinée\"\nPRY: \"Paraguay\"\nNLD: \"Pays-Bas\"\nBES: \"Pays-Bas caribéens\"\nPER: \"Pérou\"\nPHL: \"Philippines\"\nPOL: \"Pologne\"\nPYF: \"Polynésie française\"\nPRI: \"Porto Rico\"\nPRT: \"Portugal\"\nQAT: \"Qatar\"\nESH: \"République arabe sahraouie démocratique\"\nCAF: \"République centrafricaine\"\nCOD: \"République démocratique du Congo\"\nDOM: \"République dominicaine\"\nCOG: \"République du Congo\"\nROU: \"Roumanie\"\nGBR: \"Royaume-Uni\"\nRUS: \"Russie\"\nRWA: \"Rwanda\"\nBLM: \"Saint-Barthélemy\"\nKNA: \"Saint-Christophe-et-Niévès\"\nSMR: \"Saint-Marin\"\nMAF: \"Saint-Martin\"\nSXM: \"Saint-Martin\"\nSPM: \"Saint-Pierre-et-Miquelon\"\nVAT: \"  Saint-Siège (État de la Cité du Vatican)\"\nVCT: \"Saint-Vincent-et-les-Grenadines\"\nSHN: \"Sainte-Hélène, Ascension et Tristan da Cunha\"\nLCA: \"Sainte-Lucie\"\nSLB: \"Salomon\"\nSLV: \"Salvador\"\nWSM: \"Samoa\"\nASM: \"Samoa américaines\"\nSTP: \"Sao Tomé-et-Principe\"\nSEN: \"Sénégal\"\nSRB: \"Serbie\"\nSYC: \"Seychelles\"\nSLE: \"Sierra Leone\"\nSGP: \"Singapour\"\nSVK: \"Slovaquie\"\nSVN: \"Slovénie\"\nSOM: \"Somalie\"\nSDN: \"Soudan\"\nSSD: \"Soudan du Sud\"\nLKA: \"Sri Lanka\"\nSWE: \"Suède\"\nCHE: \"Suisse\"\nSUR: \"Suriname\"\nSJM: \"Svalbard et ile Jan Mayen\"\nSWZ: \"Swaziland\"\nSYR: \"Syrie\"\nTJK: \"Tadjikistan\"\nTWN: \"Taïwan / (République de Chine (Taïwan))\"\nTZA: \"Tanzanie\"\nTCD: \"Tchad\"\nCZE: \"Tchéquie\"\nATF: \"Terres australes et antarctiques françaises\"\nIOT: \"Territoire britannique de l\'océan Indien\"\nTHA: \"Thaïlande\"\nTLS: \"Timor oriental\"\nTGO: \"Togo\"\nTKL: \"Tokelau\"\nTON: \"Tonga\"\nTTO: \"Trinité-et-Tobago\"\nTUN: \"Tunisie\"\nTKM: \"Turkménistan\"\nTUR: \"Turquie\"\nTUV: \"Tuvalu\"\nUKR: \"Ukraine\"\nURY: \"Uruguay\"\nVUT: \"Vanuatu\"\nVEN: \"Venezuela\"\nVNM: \"Viêt Nam\"\nWLF: \"Wallis-et-Futuna\"\nYEM: \"Yémen\"\nZMB: \"Zambie\"\nZWE: \"Zimbabwe\"', 'base', @catID, '1', '2019-01-01 00:00:00', '3600', '13');

-- coquille
UPDATE `forms` SET `yamlStructure` = replace(yamlStructure, 'bloc-separator:', 'blocseparator:');

-- correction class fontawesome
UPDATE `forms` SET `yamlStructure` = replace(yamlStructure, '"fa ', '"fas ');

-- pour la forme
UPDATE `data_cat` set name='ordoItems' where name='OrdoItems';

-- ménage et corrections
DELETE from `data_types` where name in ('lapAlertPatientAllaitementSup3Ans', 'lapAlertPatientTermeGrossesseSup46', 'theriaqueShowMedicHospi', 'theriaqueShowMedicNonComer') and groupe='user';

SET @catID = (SELECT data_cat.id FROM data_cat WHERE data_cat.name='catAtcdStruc');
UPDATE `data_types` set cat=@catID where name='atcdStrucDateDebutMois';

SET @catID = (SELECT data_cat.id FROM data_cat WHERE data_cat.name='lapCatMedicament');
UPDATE `data_types` set cat=@catID where name='lapMedicamentCodeATC';
